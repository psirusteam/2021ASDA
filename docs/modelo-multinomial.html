<!DOCTYPE html>
<html lang="es" xml:lang="es">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>9.4 Modelo multinomial | Análisis de encuestas con R</title>
  <meta name="description" content="Este es el repositorio del libro Análisis de encuestas con R." />
  <meta name="generator" content="bookdown 0.32 and GitBook 2.6.7" />

  <meta property="og:title" content="9.4 Modelo multinomial | Análisis de encuestas con R" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Este es el repositorio del libro Análisis de encuestas con R." />
  <meta name="github-repo" content="psirusteam/HHS-Handbook" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="9.4 Modelo multinomial | Análisis de encuestas con R" />
  
  <meta name="twitter:description" content="Este es el repositorio del libro Análisis de encuestas con R." />
  

<meta name="author" content="Andrés Gutiérrez, Cristian Téllez, Stalyn Guerrero" />


<meta name="date" content="2023-03-06" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="método-de-máxima-pseudo-verosimilitud.html"/>
<link rel="next" href="imputación-múltiple-en-encuestas-de-hogares.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Análisis de encuestas con R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Prefacio</a></li>
<li class="chapter" data-level="1" data-path="introducción.html"><a href="introducción.html"><i class="fa fa-check"></i><b>1</b> Introducción</a></li>
<li class="chapter" data-level="2" data-path="conceptos-básicos-en-encuestas-de-hogares.html"><a href="conceptos-básicos-en-encuestas-de-hogares.html"><i class="fa fa-check"></i><b>2</b> Conceptos básicos en encuestas de hogares</a>
<ul>
<li class="chapter" data-level="2.1" data-path="universo-de-estudio-y-población-objetivo.html"><a href="universo-de-estudio-y-población-objetivo.html"><i class="fa fa-check"></i><b>2.1</b> Universo de estudio y población objetivo</a></li>
<li class="chapter" data-level="2.2" data-path="unidades-de-análisis.html"><a href="unidades-de-análisis.html"><i class="fa fa-check"></i><b>2.2</b> Unidades de análisis</a></li>
<li class="chapter" data-level="2.3" data-path="unidades-de-muestreo.html"><a href="unidades-de-muestreo.html"><i class="fa fa-check"></i><b>2.3</b> Unidades de muestreo</a></li>
<li class="chapter" data-level="2.4" data-path="marcos-de-muestreo.html"><a href="marcos-de-muestreo.html"><i class="fa fa-check"></i><b>2.4</b> Marcos de muestreo</a></li>
<li class="chapter" data-level="2.5" data-path="selección-de-una-muestra.html"><a href="selección-de-una-muestra.html"><i class="fa fa-check"></i><b>2.5</b> Selección de una muestra</a></li>
<li class="chapter" data-level="2.6" data-path="motivación.html"><a href="motivación.html"><i class="fa fa-check"></i><b>2.6</b> Motivación</a></li>
<li class="chapter" data-level="2.7" data-path="muestreo-aleatorio-simple-en-dos-etapas-estratificado.html"><a href="muestreo-aleatorio-simple-en-dos-etapas-estratificado.html"><i class="fa fa-check"></i><b>2.7</b> Muestreo aleatorio simple en dos etapas estratificado</a></li>
<li class="chapter" data-level="2.8" data-path="práctica-en-r.html"><a href="práctica-en-r.html"><i class="fa fa-check"></i><b>2.8</b> Práctica en <code>R</code></a></li>
<li class="chapter" data-level="2.9" data-path="calibrando-con-r.html"><a href="calibrando-con-r.html"><i class="fa fa-check"></i><b>2.9</b> Calibrando con <code>R</code></a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="manejando-una-base-de-encuestas-de-hogares-con-r.html"><a href="manejando-una-base-de-encuestas-de-hogares-con-r.html"><i class="fa fa-check"></i><b>3</b> Manejando una base de encuestas de hogares con R</a>
<ul>
<li class="chapter" data-level="3.1" data-path="fundamentos-básicos-de-r-y-rstudio.html"><a href="fundamentos-básicos-de-r-y-rstudio.html"><i class="fa fa-check"></i><b>3.1</b> Fundamentos básicos de R y Rstudio</a></li>
<li class="chapter" data-level="3.2" data-path="algunas-librerías-de-interés.html"><a href="algunas-librerías-de-interés.html"><i class="fa fa-check"></i><b>3.2</b> Algunas librerías de interés</a></li>
<li class="chapter" data-level="3.3" data-path="cración-de-proyectos-en-r.html"><a href="cración-de-proyectos-en-r.html"><i class="fa fa-check"></i><b>3.3</b> Cración de proyectos en <code>R</code></a></li>
<li class="chapter" data-level="3.4" data-path="lectura-de-las-bases-de-datos-y-manipulación.html"><a href="lectura-de-las-bases-de-datos-y-manipulación.html"><i class="fa fa-check"></i><b>3.4</b> Lectura de las bases de datos y manipulación</a></li>
<li class="chapter" data-level="3.5" data-path="el-operador-pipe.html"><a href="el-operador-pipe.html"><i class="fa fa-check"></i><b>3.5</b> El operador <code>pipe</code></a></li>
<li class="chapter" data-level="3.6" data-path="funciones-mutate-summarise-y-group_by-en-encuestas-de-hogares.html"><a href="funciones-mutate-summarise-y-group_by-en-encuestas-de-hogares.html"><i class="fa fa-check"></i><b>3.6</b> Funciones <strong>mutate, summarise y group_by</strong> en encuestas de hogares</a></li>
<li class="chapter" data-level="3.7" data-path="medidas-descriptivos-y-reflexiones.html"><a href="medidas-descriptivos-y-reflexiones.html"><i class="fa fa-check"></i><b>3.7</b> Medidas descriptivos y reflexiones</a></li>
<li class="chapter" data-level="3.8" data-path="algunas-reflexiones-generales.html"><a href="algunas-reflexiones-generales.html"><i class="fa fa-check"></i><b>3.8</b> Algunas reflexiones generales</a></li>
<li class="chapter" data-level="3.9" data-path="observación-importante.html"><a href="observación-importante.html"><i class="fa fa-check"></i><b>3.9</b> <strong>¡Observación importante!</strong></a></li>
<li class="chapter" data-level="3.10" data-path="medias-y-totales.html"><a href="medias-y-totales.html"><i class="fa fa-check"></i><b>3.10</b> Medias y totales</a></li>
<li class="chapter" data-level="3.11" data-path="medianas-y-percentiles.html"><a href="medianas-y-percentiles.html"><i class="fa fa-check"></i><b>3.11</b> Medianas y percentiles</a></li>
<li class="chapter" data-level="3.12" data-path="varianza-desviación-estándar-y-rangos.html"><a href="varianza-desviación-estándar-y-rangos.html"><i class="fa fa-check"></i><b>3.12</b> Varianza, desviación estándar y rangos</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="análisis-de-las-variables-continuas-en-encuestas-de-hogares.html"><a href="análisis-de-las-variables-continuas-en-encuestas-de-hogares.html"><i class="fa fa-check"></i><b>4</b> Análisis de las variables continuas en encuestas de hogares</a>
<ul>
<li class="chapter" data-level="4.1" data-path="lectura-de-bases-de-datos-y-definición-del-diseño-muestral.html"><a href="lectura-de-bases-de-datos-y-definición-del-diseño-muestral.html"><i class="fa fa-check"></i><b>4.1</b> Lectura de bases de datos y definición del diseño muestral</a></li>
<li class="chapter" data-level="4.2" data-path="análisis-gráfico-histogramas-y-boxplot.html"><a href="análisis-gráfico-histogramas-y-boxplot.html"><i class="fa fa-check"></i><b>4.2</b> Análisis gráfico: Histogramas y Boxplot</a></li>
<li class="chapter" data-level="4.3" data-path="estimación-puntual.html"><a href="estimación-puntual.html"><i class="fa fa-check"></i><b>4.3</b> Estimación puntual</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="estimación-puntual.html"><a href="estimación-puntual.html#estimación-de-totales-e-intervalos-de-confianza"><i class="fa fa-check"></i><b>4.3.1</b> Estimación de totales e intervalos de confianza</a></li>
<li class="chapter" data-level="4.3.2" data-path="estimación-puntual.html"><a href="estimación-puntual.html#estimación-de-la-media-e-intervalo-de-confianza"><i class="fa fa-check"></i><b>4.3.2</b> Estimación de la media e intervalo de confianza</a></li>
<li class="chapter" data-level="4.3.3" data-path="estimación-puntual.html"><a href="estimación-puntual.html#estimación-de-medidas-de-dispersión-y-localización"><i class="fa fa-check"></i><b>4.3.3</b> Estimación de medidas de dispersión y localización</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="estimación-del-coeficiente-de-ginni-en-encuestas-de-hogares.html"><a href="estimación-del-coeficiente-de-ginni-en-encuestas-de-hogares.html"><i class="fa fa-check"></i><b>4.4</b> Estimación del coeficiente de Ginni en encuestas de hogares</a></li>
<li class="chapter" data-level="4.5" data-path="análisis-de-la-relación-entre-dos-variable-continuas.html"><a href="análisis-de-la-relación-entre-dos-variable-continuas.html"><i class="fa fa-check"></i><b>4.5</b> Análisis de la relación entre dos variable continuas</a></li>
<li class="chapter" data-level="4.6" data-path="prueba-de-hipótesis-para-la-diferencia-de-medias-en-encuestas-de-hogares.html"><a href="prueba-de-hipótesis-para-la-diferencia-de-medias-en-encuestas-de-hogares.html"><i class="fa fa-check"></i><b>4.6</b> Prueba de hipótesis para la diferencia de medias en encuestas de hogares</a></li>
<li class="chapter" data-level="4.7" data-path="estimando-razones-en-encuestas-de-hogares.html"><a href="estimando-razones-en-encuestas-de-hogares.html"><i class="fa fa-check"></i><b>4.7</b> Estimando razones en encuestas de hogares</a></li>
<li class="chapter" data-level="4.8" data-path="estimando-contrastes-en-encuestas-de-hogares.html"><a href="estimando-contrastes-en-encuestas-de-hogares.html"><i class="fa fa-check"></i><b>4.8</b> Estimando contrastes en encuestas de hogares</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="análisis-de-variables-categóricas-en-encuestas-de-hogares.html"><a href="análisis-de-variables-categóricas-en-encuestas-de-hogares.html"><i class="fa fa-check"></i><b>5</b> Análisis de variables categóricas en encuestas de hogares</a>
<ul>
<li class="chapter" data-level="5.1" data-path="estimaciones-de-totales.html"><a href="estimaciones-de-totales.html"><i class="fa fa-check"></i><b>5.1</b> Estimaciones de totales</a></li>
<li class="chapter" data-level="5.2" data-path="estimación-de-proporciones.html"><a href="estimación-de-proporciones.html"><i class="fa fa-check"></i><b>5.2</b> Estimación de proporciones</a></li>
<li class="chapter" data-level="5.3" data-path="tablas-cruzadas..html"><a href="tablas-cruzadas..html"><i class="fa fa-check"></i><b>5.3</b> Tablas cruzadas.</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="modelos-de-regresión-bajo-diseños-de-muestreo-complejos.html"><a href="modelos-de-regresión-bajo-diseños-de-muestreo-complejos.html"><i class="fa fa-check"></i><b>6</b> Modelos de regresión bajo diseños de muestreo complejos</a>
<ul>
<li class="chapter" data-level="6.1" data-path="estimación-de-los-parámetros-en-un-modelo-de-regresión-con-muestras-complejas..html"><a href="estimación-de-los-parámetros-en-un-modelo-de-regresión-con-muestras-complejas..html"><i class="fa fa-check"></i><b>6.1</b> Estimación de los parámetros en un modelo de regresión con muestras complejas.</a></li>
<li class="chapter" data-level="6.2" data-path="diagnóstico-del-modelo.html"><a href="diagnóstico-del-modelo.html"><i class="fa fa-check"></i><b>6.2</b> Diagnóstico del modelo</a></li>
<li class="chapter" data-level="6.3" data-path="inferencia-sobre-los-parámetros-del-modelo.html"><a href="inferencia-sobre-los-parámetros-del-modelo.html"><i class="fa fa-check"></i><b>6.3</b> Inferencia sobre los parámetros del Modelo</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="gráficas-en-r.html"><a href="gráficas-en-r.html"><i class="fa fa-check"></i><b>7</b> Gráficas en R</a>
<ul>
<li class="chapter" data-level="7.1" data-path="histogramas-para-graficar-variables-continuas..html"><a href="histogramas-para-graficar-variables-continuas..html"><i class="fa fa-check"></i><b>7.1</b> Histogramas para graficar variables continuas.</a></li>
<li class="chapter" data-level="7.2" data-path="agregando-densidades-y-graficando-boxplot.html"><a href="agregando-densidades-y-graficando-boxplot.html"><i class="fa fa-check"></i><b>7.2</b> Agregando densidades y graficando Boxplot</a></li>
<li class="chapter" data-level="7.3" data-path="scaterplot.html"><a href="scaterplot.html"><i class="fa fa-check"></i><b>7.3</b> Scaterplot</a></li>
<li class="chapter" data-level="7.4" data-path="diagrama-de-barras-para-variables-categoricas.html"><a href="diagrama-de-barras-para-variables-categoricas.html"><i class="fa fa-check"></i><b>7.4</b> Diagrama de barras para variables categoricas</a></li>
<li class="chapter" data-level="7.5" data-path="creando-mapas.html"><a href="creando-mapas.html"><i class="fa fa-check"></i><b>7.5</b> Creando mapas</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="modelos-lineales-generalizados-en-encuestas-de-hogares.html"><a href="modelos-lineales-generalizados-en-encuestas-de-hogares.html"><i class="fa fa-check"></i><b>8</b> Modelos lineales generalizados en encuestas de hogares</a>
<ul>
<li class="chapter" data-level="8.1" data-path="prueba-de-independencia-f.html"><a href="prueba-de-independencia-f.html"><i class="fa fa-check"></i><b>8.1</b> Prueba de independencia F</a></li>
<li class="chapter" data-level="8.2" data-path="estadístico-de-wald.html"><a href="estadístico-de-wald.html"><i class="fa fa-check"></i><b>8.2</b> Estadístico de Wald</a></li>
<li class="chapter" data-level="8.3" data-path="modelo-log-lineal-para-tablas-de-contingencia.html"><a href="modelo-log-lineal-para-tablas-de-contingencia.html"><i class="fa fa-check"></i><b>8.3</b> Modelo log lineal para tablas de contingencia</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="modelos-lineales-generalizados-introducción-a-la-pseudo-máxima-verosimilitud.html"><a href="modelos-lineales-generalizados-introducción-a-la-pseudo-máxima-verosimilitud.html"><i class="fa fa-check"></i><b>9</b> Modelos lineales generalizados: Introducción a la pseudo máxima verosimilitud</a>
<ul>
<li class="chapter" data-level="9.1" data-path="acerca-de-las-muestras-aleatorias-y-su-análisis.html"><a href="acerca-de-las-muestras-aleatorias-y-su-análisis.html"><i class="fa fa-check"></i><b>9.1</b> Acerca de las muestras aleatorias y su análisis</a></li>
<li class="chapter" data-level="9.2" data-path="método-de-máxima-verosimilitud.html"><a href="método-de-máxima-verosimilitud.html"><i class="fa fa-check"></i><b>9.2</b> Método de Máxima Verosimilitud</a></li>
<li class="chapter" data-level="9.3" data-path="método-de-máxima-pseudo-verosimilitud.html"><a href="método-de-máxima-pseudo-verosimilitud.html"><i class="fa fa-check"></i><b>9.3</b> Método de Máxima Pseudo-Verosimilitud</a></li>
<li class="chapter" data-level="9.4" data-path="modelo-multinomial.html"><a href="modelo-multinomial.html"><i class="fa fa-check"></i><b>9.4</b> Modelo multinomial</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="imputación-múltiple-en-encuestas-de-hogares.html"><a href="imputación-múltiple-en-encuestas-de-hogares.html"><i class="fa fa-check"></i><b>10</b> Imputación múltiple en encuestas de hogares</a>
<ul>
<li class="chapter" data-level="10.1" data-path="imputación-por-la-media-no-condicional..html"><a href="imputación-por-la-media-no-condicional..html"><i class="fa fa-check"></i><b>10.1</b> Imputación por la media no condicional.</a></li>
<li class="chapter" data-level="10.2" data-path="imputación-por-la-media-condicional.html"><a href="imputación-por-la-media-condicional.html"><i class="fa fa-check"></i><b>10.2</b> Imputación por la media condicional</a></li>
<li class="chapter" data-level="10.3" data-path="imputación-por-hot-deck-y-cold-deck.html"><a href="imputación-por-hot-deck-y-cold-deck.html"><i class="fa fa-check"></i><b>10.3</b> Imputación por Hot-deck y Cold-deck</a></li>
<li class="chapter" data-level="10.4" data-path="imputación-por-regresión.html"><a href="imputación-por-regresión.html"><i class="fa fa-check"></i><b>10.4</b> Imputación por regresión</a></li>
<li class="chapter" data-level="10.5" data-path="imputación-por-el-vecino-más-cercano.html"><a href="imputación-por-el-vecino-más-cercano.html"><i class="fa fa-check"></i><b>10.5</b> Imputación por el vecino más cercano</a></li>
<li class="chapter" data-level="10.6" data-path="imputación-por-el-vecino-más-cercano-con-regresión.html"><a href="imputación-por-el-vecino-más-cercano-con-regresión.html"><i class="fa fa-check"></i><b>10.6</b> Imputación por el vecino más cercano con regresión</a></li>
<li class="chapter" data-level="10.7" data-path="introducción-a-la-imputación-múltiple..html"><a href="introducción-a-la-imputación-múltiple..html"><i class="fa fa-check"></i><b>10.7</b> Introducción a la imputación múltiple.</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="referencias.html"><a href="referencias.html"><i class="fa fa-check"></i><b>11</b> Referencias</a></li>
<li class="divider"></li>
<li><a Análisis de encuestas con R </a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Análisis de encuestas con R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="modelo-multinomial" class="section level2 hasAnchor" number="9.4">
<h2><span class="header-section-number">9.4</span> Modelo multinomial<a href="modelo-multinomial.html#modelo-multinomial" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>En capítulos anteriores de este libro se desarrolló la manera de cómo hacer el análisis de variables aleatorias provenientes de encuestas complejas de tipo binario. Sin embargo, en encuestas complejas también existen variables de tipo multinomial, es decir, que tengan más de dos niveles de respuesta. Para el análisis de este tipo de variables se utiliza el modelo multinomial, el cual se desarrollará en esta sección.</p>
<p>El modelo de regresión logit multinomial es la extensión natural del modelo de regresión logística binomial simple para analizar variables con respuestas que tienen tres o más categorías distintas. Esta técnica es más apropiada para variables de encuesta con categorías de respuesta nominales.</p>
<p>Para el ajuste de un modelo multinomial se debe tener en cuenta que:</p>
<ul>
<li><p>Su variable dependiente debe medirse en el nivel nominal.</p></li>
<li><p>Tiene una o más variables independientes que son continuas, ordinales o nominales (incluidas las variables dicotómicas).</p></li>
<li><p>Tener independencia de las observaciones y la variable dependiente debe tener categorías mutuamente excluyentes y exhaustivas</p></li>
<li><p>No debe haber <strong>multicolinealidad.</strong> La multicolinealidad ocurre cuando tiene dos o más variables independientes que están altamente correlacionadas entre sí.</p></li>
<li><p>Debe haber una relación lineal entre cualquier variable independiente continua y la transformación logit de la variable dependiente.</p></li>
<li><p>No debe haber valores atípicos, valores de apalancamiento elevados o puntos influyentes.</p></li>
</ul>
<p>El modelo múltinomial está dado como:</p>
<p><span class="math display">\[
Pr\left(Y_{ik}\right)=Pr\left(y_{i}=k\mid\boldsymbol{x}_{i}:\boldsymbol{\beta}_{1},\dots\boldsymbol{\beta}_{m}\right)=\frac{\exp\left(\beta_{0k}+\boldsymbol{\beta}_{k}\boldsymbol{x}_{i}\right)}{\sum_{j=1}^{m}\exp\left(\beta_{0j}+\boldsymbol{\beta}_{j}\boldsymbol{x}_{i}\right)}
\]</span></p>
<p>donde <span class="math inline">\(\boldsymbol{\beta}_k\)</span> es el vector de coeficiente de <span class="math inline">\(\boldsymbol{X}\)</span> para la k-ésima categoría.</p>
<p>Para la estimación de los parámetros del modelo logístico se utilizará la máxima verosimilitud como técnica de estimación. Para ello, implica maximizar la siguiente versión multinomial de la función de pseudoverosimilitud <em>(Heeringa)</em>:</p>
<p><span class="math display">\[
PL_{Mult}\left(\hat{\beta}\mid\boldsymbol{X}\right)  =  \prod_{i=1}^{n}\left\{ \prod_{i=1}^{k}\hat{\pi}_{k}\left(x_{i}\right)^{y_{i\left(k\right)}}\right\} ^{w_{i}}
\]</span>
donde,</p>
<p><span class="math inline">\(y_{i\left(k\right)}=1\)</span> si <span class="math inline">\(y = k\)</span> para la unidad muestreada <span class="math inline">\(i\)</span>, 0 en caso contrario. <span class="math inline">\(\hat{\pi}_{k}\left(x_{i}\right)\)</span> es la probabilidad estimada de que <span class="math inline">\(y_{i}=k\mid x_{i}\)</span>. <span class="math inline">\(w_{i}\)</span> es el peso de la encuesta para la unidad muestreada <span class="math inline">\(i\)</span>.</p>
<p>La maximización implica la aplicación del algoritmo de Newton-Raphson para resolver el siguiente conjunto de ecuaciones de estimación <span class="math inline">\(\left(K-1\right)\times\left(p+1\right)\)</span>,
suponiendo un diseño de muestra complejo con estratos indexados por <span class="math inline">\(h\)</span> y conglomerados dentro de estratos indexados por <span class="math inline">\(\alpha\)</span>:</p>
<p><span class="math display">\[
S\left(\boldsymbol{\beta}\right)_{Mult}  =  \sum_{h}\sum_{\alpha}\sum_{i}\omega_{h\alpha i}\left(y_{h\alpha i}^{\left(k\right)}-\pi_{k}\left(\boldsymbol{\beta}\right)\right)x&#39;_{h\alpha i}=0
\]</span></p>
<p>Donde,</p>
<p><span class="math display">\[
\pi_{k}\left(\boldsymbol{\beta}\right)=\frac{exp\left(x&#39;\boldsymbol{\beta_{k}}\right)}{1+{\displaystyle \sum_{k=2}^{K}exp\left(x&#39;\boldsymbol{\beta_{k}}\right)}}
\]</span></p>
<p>y</p>
<p><span class="math display">\[
\pi_{1\left(referencia\right)}\left(\boldsymbol{\beta}\right)=1-\sum_{k=2}^{K}\pi_{k}\left(\boldsymbol{\beta}\right)
\]</span></p>
<p>Por último, la matriz de varianza-covarianza de los parámetros estimados, basada en la aplicación de Binder de la linealización de la serie de Taylor a las estimaciones derivadas utilizando la estimación de pseudomáxima verosimilitud es:</p>
<p><span class="math display">\[
\hat{Var}\left(\hat{\boldsymbol{\beta}}\right)  =  \left(J^{-1}\right)var\left[S\left(\hat{\boldsymbol{\beta}}\right)\right]\left(J^{-1}\right)
\]</span>
Para ejemplificar el uso de los modelos multinomiales en encuestas de hogares utilizando <code>R</code> se utilizan los siguientes códigos computacionales. Inicialemente, para efectos de comparación, estimemos el porcentaje de personas por desempleo:</p>
<div class="sourceCode" id="cb472"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb472-1"><a href="modelo-multinomial.html#cb472-1" aria-hidden="true" tabindex="-1"></a>diseno <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(Employment) <span class="sc">%&gt;%</span> </span>
<span id="cb472-2"><a href="modelo-multinomial.html#cb472-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Prop =</span> <span class="fu">survey_mean</span>(<span class="at">vartype =</span> <span class="fu">c</span>(<span class="st">&quot;se&quot;</span>, <span class="st">&quot;ci&quot;</span>)))</span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
Employment
</th>
<th style="text-align:right;">
Prop
</th>
<th style="text-align:right;">
Prop_se
</th>
<th style="text-align:right;">
Prop_low
</th>
<th style="text-align:right;">
Prop_upp
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Unemployed
</td>
<td style="text-align:right;">
0.0322524
</td>
<td style="text-align:right;">
0.0057006
</td>
<td style="text-align:right;">
0.0209647
</td>
<td style="text-align:right;">
0.0435401
</td>
</tr>
<tr>
<td style="text-align:left;">
Inactive
</td>
<td style="text-align:right;">
0.2734145
</td>
<td style="text-align:right;">
0.0106850
</td>
<td style="text-align:right;">
0.2522572
</td>
<td style="text-align:right;">
0.2945718
</td>
</tr>
<tr>
<td style="text-align:left;">
Employed
</td>
<td style="text-align:right;">
0.4141869
</td>
<td style="text-align:right;">
0.0138767
</td>
<td style="text-align:right;">
0.3867096
</td>
<td style="text-align:right;">
0.4416642
</td>
</tr>
<tr>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
0.2801462
</td>
<td style="text-align:right;">
0.0139885
</td>
<td style="text-align:right;">
0.2524476
</td>
<td style="text-align:right;">
0.3078449
</td>
</tr>
</tbody>
</table>
<p>Ahora bien, se filtran aquellas personas mayores a 15 años y se vuelve a estimar:</p>
<div class="sourceCode" id="cb473"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb473-1"><a href="modelo-multinomial.html#cb473-1" aria-hidden="true" tabindex="-1"></a>diseno <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Age <span class="sc">&gt;=</span> <span class="dv">15</span>)<span class="sc">%&gt;%</span> <span class="fu">group_by</span>(Employment) <span class="sc">%&gt;%</span> </span>
<span id="cb473-2"><a href="modelo-multinomial.html#cb473-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Prop =</span> <span class="fu">survey_mean</span>(<span class="at">vartype =</span> <span class="fu">c</span>(<span class="st">&quot;se&quot;</span>, <span class="st">&quot;ci&quot;</span>)))</span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
Employment
</th>
<th style="text-align:right;">
Prop
</th>
<th style="text-align:right;">
Prop_se
</th>
<th style="text-align:right;">
Prop_low
</th>
<th style="text-align:right;">
Prop_upp
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Unemployed
</td>
<td style="text-align:right;">
0.0448040
</td>
<td style="text-align:right;">
0.0077955
</td>
<td style="text-align:right;">
0.0293683
</td>
<td style="text-align:right;">
0.0602398
</td>
</tr>
<tr>
<td style="text-align:left;">
Inactive
</td>
<td style="text-align:right;">
0.3798195
</td>
<td style="text-align:right;">
0.0150308
</td>
<td style="text-align:right;">
0.3500571
</td>
<td style="text-align:right;">
0.4095820
</td>
</tr>
<tr>
<td style="text-align:left;">
Employed
</td>
<td style="text-align:right;">
0.5753764
</td>
<td style="text-align:right;">
0.0130688
</td>
<td style="text-align:right;">
0.5494988
</td>
<td style="text-align:right;">
0.6012540
</td>
</tr>
</tbody>
</table>
<p>Con lo anterior, se observa un aumento en el porcentaje de personas empleadas en los hogares.</p>
<p>Ahora bien, se realiza la estimación usando el modelo multinomial con la función <code>svy_vglm</code> del paquete <code>svyVGAM</code> como se muestra a continuación:</p>
<div class="sourceCode" id="cb474"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb474-1"><a href="modelo-multinomial.html#cb474-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(svyVGAM)</span>
<span id="cb474-2"><a href="modelo-multinomial.html#cb474-2" aria-hidden="true" tabindex="-1"></a>diseno_15 <span class="ot">&lt;-</span> diseno <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Age <span class="sc">&gt;=</span> <span class="dv">15</span>)</span>
<span id="cb474-3"><a href="modelo-multinomial.html#cb474-3" aria-hidden="true" tabindex="-1"></a>model_mul <span class="ot">&lt;-</span> <span class="fu">svy_vglm</span>(</span>
<span id="cb474-4"><a href="modelo-multinomial.html#cb474-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">formula =</span> Employment <span class="sc">~</span> Age <span class="sc">+</span> Sex <span class="sc">+</span> Region <span class="sc">+</span> Zone,</span>
<span id="cb474-5"><a href="modelo-multinomial.html#cb474-5" aria-hidden="true" tabindex="-1"></a>                   <span class="at">design =</span> diseno_15, </span>
<span id="cb474-6"><a href="modelo-multinomial.html#cb474-6" aria-hidden="true" tabindex="-1"></a>     <span class="at">crit =</span> <span class="st">&quot;coef&quot;</span>,</span>
<span id="cb474-7"><a href="modelo-multinomial.html#cb474-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">family =</span> <span class="fu">multinomial</span>(<span class="at">refLevel =</span> <span class="st">&quot;Unemployed&quot;</span>))</span>
<span id="cb474-8"><a href="modelo-multinomial.html#cb474-8" aria-hidden="true" tabindex="-1"></a>model_mul</span></code></pre></div>
<pre><code>## Stratified 1 - level Cluster Sampling design (with replacement)
## With (238) clusters.
## Called via srvyr
## Sampling variables:
##  - ids: PSU
##  - strata: Stratum
##  - weights: wk2
## Data variables: HHID (chr), Stratum (chr), NIh (int), nIh (dbl), dI (dbl),
##   PersonID (chr), PSU (chr), Zone (chr), Sex (chr), Age (int), MaritalST (fct),
##   Income (dbl), Expenditure (dbl), Employment (fct), Poverty (fct), dki (dbl),
##   dk (dbl), wk (dbl), Region (fct), CatAge (ord), wk2 (dbl)
## 
## Call:
## vglm(formula = formula, family = family, data = surveydata, weights = .survey.prob.weights, 
##     crit = &quot;coef&quot;)
## 
## 
## Coefficients:
##     (Intercept):1     (Intercept):2             Age:1             Age:2 
##        2.29035224        2.09308478        0.02474836        0.02073894 
##         SexMale:1         SexMale:2       RegionSur:1       RegionSur:2 
##       -2.21949718       -0.55633376       -0.43624259       -0.27905123 
##    RegionCentro:1    RegionCentro:2 RegionOccidente:1 RegionOccidente:2 
##        0.37132724        0.25576105        0.25356331        0.09279505 
##   RegionOriente:1   RegionOriente:2       ZoneUrban:1       ZoneUrban:2 
##        0.61759957        0.47055482       -0.23461616        0.05674419 
## 
## Degrees of Freedom: 3758 Total; 3742 Residual
## Residual deviance: 2778.983 
## Log-likelihood: -1389.492 
## 
## This is a multinomial logit model with 3 levels</code></pre>
<p>Algo a tener en cuenta es que la función <code>broom::tidy()</code>, que normalmente usamos para limpiar y estandarizar la salida del modelo, no puede ser empleada en este caso, sin embargo, en el link<a href="#fn4" class="footnote-ref" id="fnref4"><sup>4</sup></a> encuentra la función que utilizamos a continuación.</p>
<div class="sourceCode" id="cb476"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb476-1"><a href="modelo-multinomial.html#cb476-1" aria-hidden="true" tabindex="-1"></a>tidy.svyVGAM <span class="ot">&lt;-</span> <span class="cf">function</span>(</span>
<span id="cb476-2"><a href="modelo-multinomial.html#cb476-2" aria-hidden="true" tabindex="-1"></a>  x, </span>
<span id="cb476-3"><a href="modelo-multinomial.html#cb476-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">conf.int =</span> <span class="cn">FALSE</span>, </span>
<span id="cb476-4"><a href="modelo-multinomial.html#cb476-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">conf.level =</span> <span class="fl">0.95</span>,</span>
<span id="cb476-5"><a href="modelo-multinomial.html#cb476-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">exponentiate =</span> <span class="cn">FALSE</span>, </span>
<span id="cb476-6"><a href="modelo-multinomial.html#cb476-6" aria-hidden="true" tabindex="-1"></a>  ...</span>
<span id="cb476-7"><a href="modelo-multinomial.html#cb476-7" aria-hidden="true" tabindex="-1"></a>){</span>
<span id="cb476-8"><a href="modelo-multinomial.html#cb476-8" aria-hidden="true" tabindex="-1"></a>  ret <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(<span class="fu">summary</span>(x)<span class="sc">$</span>coeftable, <span class="at">rownames =</span> <span class="st">&quot;term&quot;</span>)</span>
<span id="cb476-9"><a href="modelo-multinomial.html#cb476-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb476-10"><a href="modelo-multinomial.html#cb476-10" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb476-11"><a href="modelo-multinomial.html#cb476-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">colnames</span>(ret) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;term&quot;</span>, <span class="st">&quot;estimate&quot;</span>, <span class="st">&quot;std.error&quot;</span>, <span class="st">&quot;statistic&quot;</span>, <span class="st">&quot;p.value&quot;</span>)</span>
<span id="cb476-12"><a href="modelo-multinomial.html#cb476-12" aria-hidden="true" tabindex="-1"></a>  coefs <span class="ot">&lt;-</span> tibble<span class="sc">::</span><span class="fu">enframe</span>(stats<span class="sc">::</span><span class="fu">coef</span>(x), <span class="at">name =</span> <span class="st">&quot;term&quot;</span>, <span class="at">value =</span> <span class="st">&quot;estimate&quot;</span>)</span>
<span id="cb476-13"><a href="modelo-multinomial.html#cb476-13" aria-hidden="true" tabindex="-1"></a>  ret <span class="ot">&lt;-</span> <span class="fu">left_join</span>(coefs, ret, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&quot;term&quot;</span>, <span class="st">&quot;estimate&quot;</span>))</span>
<span id="cb476-14"><a href="modelo-multinomial.html#cb476-14" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (conf.int){</span>
<span id="cb476-15"><a href="modelo-multinomial.html#cb476-15" aria-hidden="true" tabindex="-1"></a>    ci <span class="ot">&lt;-</span> broom<span class="sc">:::</span><span class="fu">broom_confint_terms</span>(x, <span class="at">level =</span> conf.level, ...)</span>
<span id="cb476-16"><a href="modelo-multinomial.html#cb476-16" aria-hidden="true" tabindex="-1"></a>    ret <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">left_join</span>(ret, ci, <span class="at">by =</span> <span class="st">&quot;term&quot;</span>)</span>
<span id="cb476-17"><a href="modelo-multinomial.html#cb476-17" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb476-18"><a href="modelo-multinomial.html#cb476-18" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (exponentiate){ret <span class="ot">&lt;-</span> broom<span class="sc">:::</span><span class="fu">exponentiate</span>(ret)}</span>
<span id="cb476-19"><a href="modelo-multinomial.html#cb476-19" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb476-20"><a href="modelo-multinomial.html#cb476-20" aria-hidden="true" tabindex="-1"></a>  ret <span class="sc">%&gt;%</span> </span>
<span id="cb476-21"><a href="modelo-multinomial.html#cb476-21" aria-hidden="true" tabindex="-1"></a>  tidyr<span class="sc">::</span><span class="fu">separate</span>(term, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">&quot;term&quot;</span>, <span class="st">&quot;y.level&quot;</span>), <span class="at">sep =</span> <span class="st">&quot;:&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb476-22"><a href="modelo-multinomial.html#cb476-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(y.level) <span class="sc">%&gt;%</span> </span>
<span id="cb476-23"><a href="modelo-multinomial.html#cb476-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">relocate</span>(y.level, <span class="at">.before =</span> term)</span>
<span id="cb476-24"><a href="modelo-multinomial.html#cb476-24" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Utilizando el código anterior, obtenemos las estimaciones del modelo multinomial:</p>
<div class="sourceCode" id="cb477"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb477-1"><a href="modelo-multinomial.html#cb477-1" aria-hidden="true" tabindex="-1"></a>tab_model <span class="ot">&lt;-</span> <span class="fu">tidy.svyVGAM</span>(model_mul, </span>
<span id="cb477-2"><a href="modelo-multinomial.html#cb477-2" aria-hidden="true" tabindex="-1"></a>                               <span class="at">exponentiate =</span> <span class="cn">FALSE</span>, </span>
<span id="cb477-3"><a href="modelo-multinomial.html#cb477-3" aria-hidden="true" tabindex="-1"></a>                               <span class="at">conf.int =</span> <span class="cn">FALSE</span>) </span>
<span id="cb477-4"><a href="modelo-multinomial.html#cb477-4" aria-hidden="true" tabindex="-1"></a>tab_model</span></code></pre></div>
<p>A continuación, se grafica los intervalos de confianza para los coeficientes del modelo utilizando el formato definido para la CEPAL:</p>
<div class="sourceCode" id="cb478"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb478-1"><a href="modelo-multinomial.html#cb478-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dotwhisker)</span>
<span id="cb478-2"><a href="modelo-multinomial.html#cb478-2" aria-hidden="true" tabindex="-1"></a>tab_model <span class="sc">%&gt;%</span> </span>
<span id="cb478-3"><a href="modelo-multinomial.html#cb478-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">model =</span> <span class="fu">if_else</span>(</span>
<span id="cb478-4"><a href="modelo-multinomial.html#cb478-4" aria-hidden="true" tabindex="-1"></a>      y.level <span class="sc">==</span> <span class="dv">1</span>, </span>
<span id="cb478-5"><a href="modelo-multinomial.html#cb478-5" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;Inactive&quot;</span>,</span>
<span id="cb478-6"><a href="modelo-multinomial.html#cb478-6" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;Employed&quot;</span>, ),</span>
<span id="cb478-7"><a href="modelo-multinomial.html#cb478-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">sig =</span> gtools<span class="sc">::</span><span class="fu">stars.pval</span>(p.value)</span>
<span id="cb478-8"><a href="modelo-multinomial.html#cb478-8" aria-hidden="true" tabindex="-1"></a>  )  <span class="sc">%&gt;%</span> </span>
<span id="cb478-9"><a href="modelo-multinomial.html#cb478-9" aria-hidden="true" tabindex="-1"></a>  dotwhisker<span class="sc">::</span><span class="fu">dwplot</span>(</span>
<span id="cb478-10"><a href="modelo-multinomial.html#cb478-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">dodge_size =</span> <span class="fl">0.3</span>,</span>
<span id="cb478-11"><a href="modelo-multinomial.html#cb478-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">vline =</span> <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">1</span>, <span class="at">colour =</span> <span class="st">&quot;grey60&quot;</span>,</span>
<span id="cb478-12"><a href="modelo-multinomial.html#cb478-12" aria-hidden="true" tabindex="-1"></a>                       <span class="at">linetype =</span> <span class="dv">2</span>)</span>
<span id="cb478-13"><a href="modelo-multinomial.html#cb478-13" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span> </span>
<span id="cb478-14"><a href="modelo-multinomial.html#cb478-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">color =</span> <span class="fu">guide_legend</span>(<span class="at">reverse =</span> <span class="cn">TRUE</span>)) <span class="sc">+</span> </span>
<span id="cb478-15"><a href="modelo-multinomial.html#cb478-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;top&quot;</span>)</span></code></pre></div>
<p>Una forma aternativa de ajustar los modelos de regresión multinomial es usando la función <code>svy_vglm</code>. Sin embargo, presenta limitaciones para hacer las predicciones con el modelo, por lo tanto, se puede usar como alternativa la función <code>svymultinom</code>. Cabe aclarar que esta función no está en el repositorio de R y hay que instalarla desde un repositorio de github. A continuación, se muestra cómo se realiza la instalación y posteriormente el uso de la función:</p>
<div class="sourceCode" id="cb479"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb479-1"><a href="modelo-multinomial.html#cb479-1" aria-hidden="true" tabindex="-1"></a><span class="co">#devtools::install_github(&quot;BS1125/CMAverse&quot;)</span></span>
<span id="cb479-2"><a href="modelo-multinomial.html#cb479-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(CMAverse)</span>
<span id="cb479-3"><a href="modelo-multinomial.html#cb479-3" aria-hidden="true" tabindex="-1"></a>model_mul2 <span class="ot">&lt;-</span> <span class="fu">svymultinom</span>(</span>
<span id="cb479-4"><a href="modelo-multinomial.html#cb479-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">formula =</span> Employment <span class="sc">~</span> Age <span class="sc">+</span> Sex <span class="sc">+</span> Region <span class="sc">+</span> Zone,</span>
<span id="cb479-5"><a href="modelo-multinomial.html#cb479-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">weights =</span> diseno_15<span class="sc">$</span>variables<span class="sc">$</span>wk2, </span>
<span id="cb479-6"><a href="modelo-multinomial.html#cb479-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> diseno_15<span class="sc">$</span>variables</span>
<span id="cb479-7"><a href="modelo-multinomial.html#cb479-7" aria-hidden="true" tabindex="-1"></a>) </span>
<span id="cb479-8"><a href="modelo-multinomial.html#cb479-8" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(model_mul2)<span class="sc">$</span>summarydf</span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
Estimate
</th>
<th style="text-align:right;">
Std. Error
</th>
<th style="text-align:right;">
t value
</th>
<th style="text-align:right;">
Pr(&gt;|t|)
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Inactive:(Intercept)
</td>
<td style="text-align:right;">
2.2900932
</td>
<td style="text-align:right;">
0.5586694
</td>
<td style="text-align:right;">
4.0991924
</td>
<td style="text-align:right;">
0.0000432
</td>
</tr>
<tr>
<td style="text-align:left;">
Inactive:Age
</td>
<td style="text-align:right;">
0.0247522
</td>
<td style="text-align:right;">
0.0100125
</td>
<td style="text-align:right;">
2.4721273
</td>
<td style="text-align:right;">
0.0135199
</td>
</tr>
<tr>
<td style="text-align:left;">
Inactive:SexMale
</td>
<td style="text-align:right;">
-2.2194689
</td>
<td style="text-align:right;">
0.3162459
</td>
<td style="text-align:right;">
-7.0181738
</td>
<td style="text-align:right;">
0.0000000
</td>
</tr>
<tr>
<td style="text-align:left;">
Inactive:RegionSur
</td>
<td style="text-align:right;">
-0.4361437
</td>
<td style="text-align:right;">
0.4258014
</td>
<td style="text-align:right;">
-1.0242890
</td>
<td style="text-align:right;">
0.3058318
</td>
</tr>
<tr>
<td style="text-align:left;">
Inactive:RegionCentro
</td>
<td style="text-align:right;">
0.3715204
</td>
<td style="text-align:right;">
0.4910265
</td>
<td style="text-align:right;">
0.7566198
</td>
<td style="text-align:right;">
0.4493733
</td>
</tr>
<tr>
<td style="text-align:left;">
Inactive:RegionOccidente
</td>
<td style="text-align:right;">
0.2537092
</td>
<td style="text-align:right;">
0.4552794
</td>
<td style="text-align:right;">
0.5572605
</td>
<td style="text-align:right;">
0.5774164
</td>
</tr>
<tr>
<td style="text-align:left;">
Inactive:RegionOriente
</td>
<td style="text-align:right;">
0.6175485
</td>
<td style="text-align:right;">
0.5157976
</td>
<td style="text-align:right;">
1.1972692
</td>
<td style="text-align:right;">
0.2313540
</td>
</tr>
<tr>
<td style="text-align:left;">
Inactive:ZoneUrban
</td>
<td style="text-align:right;">
-0.2346034
</td>
<td style="text-align:right;">
0.2906882
</td>
<td style="text-align:right;">
-0.8070620
</td>
<td style="text-align:right;">
0.4197338
</td>
</tr>
<tr>
<td style="text-align:left;">
Employed:(Intercept)
</td>
<td style="text-align:right;">
2.0928541
</td>
<td style="text-align:right;">
0.5427128
</td>
<td style="text-align:right;">
3.8562827
</td>
<td style="text-align:right;">
0.0001190
</td>
</tr>
<tr>
<td style="text-align:left;">
Employed:Age
</td>
<td style="text-align:right;">
0.0207428
</td>
<td style="text-align:right;">
0.0096497
</td>
<td style="text-align:right;">
2.1495766
</td>
<td style="text-align:right;">
0.0317171
</td>
</tr>
<tr>
<td style="text-align:left;">
Employed:SexMale
</td>
<td style="text-align:right;">
-0.5563127
</td>
<td style="text-align:right;">
0.3053398
</td>
<td style="text-align:right;">
-1.8219460
</td>
<td style="text-align:right;">
0.0686234
</td>
</tr>
<tr>
<td style="text-align:left;">
Employed:RegionSur
</td>
<td style="text-align:right;">
-0.2789895
</td>
<td style="text-align:right;">
0.4106178
</td>
<td style="text-align:right;">
-0.6794386
</td>
<td style="text-align:right;">
0.4969444
</td>
</tr>
<tr>
<td style="text-align:left;">
Employed:RegionCentro
</td>
<td style="text-align:right;">
0.2559417
</td>
<td style="text-align:right;">
0.4678575
</td>
<td style="text-align:right;">
0.5470505
</td>
<td style="text-align:right;">
0.5844096
</td>
</tr>
<tr>
<td style="text-align:left;">
Employed:RegionOccidente
</td>
<td style="text-align:right;">
0.0929049
</td>
<td style="text-align:right;">
0.4438767
</td>
<td style="text-align:right;">
0.2093035
</td>
<td style="text-align:right;">
0.8342342
</td>
</tr>
<tr>
<td style="text-align:left;">
Employed:RegionOriente
</td>
<td style="text-align:right;">
0.4704651
</td>
<td style="text-align:right;">
0.5050940
</td>
<td style="text-align:right;">
0.9314407
</td>
<td style="text-align:right;">
0.3517463
</td>
</tr>
<tr>
<td style="text-align:left;">
Employed:ZoneUrban
</td>
<td style="text-align:right;">
0.0567466
</td>
<td style="text-align:right;">
0.2791795
</td>
<td style="text-align:right;">
0.2032619
</td>
<td style="text-align:right;">
0.8389525
</td>
</tr>
</tbody>
</table>
<p>El hacer uso de esta función permite obtener de manera simple la predicción de las probabilidades como se muestra a continuación:</p>
<div class="sourceCode" id="cb480"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb480-1"><a href="modelo-multinomial.html#cb480-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb480-2"><a href="modelo-multinomial.html#cb480-2" aria-hidden="true" tabindex="-1"></a>tab_pred <span class="ot">&lt;-</span> <span class="fu">predict</span>(model_mul2, <span class="at">type =</span> <span class="st">&quot;probs&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb480-3"><a href="modelo-multinomial.html#cb480-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data.frame</span>()</span>
<span id="cb480-4"><a href="modelo-multinomial.html#cb480-4" aria-hidden="true" tabindex="-1"></a>tab_pred <span class="sc">%&gt;%</span> <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">15</span>)</span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:right;">
Unemployed
</th>
<th style="text-align:right;">
Inactive
</th>
<th style="text-align:right;">
Employed
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
0.0387205
</td>
<td style="text-align:right;">
0.2236639
</td>
<td style="text-align:right;">
0.7376156
</td>
</tr>
<tr>
<td style="text-align:right;">
0.0150598
</td>
<td style="text-align:right;">
0.5948109
</td>
<td style="text-align:right;">
0.3901293
</td>
</tr>
<tr>
<td style="text-align:right;">
0.0310297
</td>
<td style="text-align:right;">
0.5550689
</td>
<td style="text-align:right;">
0.4139014
</td>
</tr>
<tr>
<td style="text-align:right;">
0.0907946
</td>
<td style="text-align:right;">
0.1854493
</td>
<td style="text-align:right;">
0.7237561
</td>
</tr>
<tr>
<td style="text-align:right;">
0.0134342
</td>
<td style="text-align:right;">
0.6005134
</td>
<td style="text-align:right;">
0.3860523
</td>
</tr>
<tr>
<td style="text-align:right;">
0.0317299
</td>
<td style="text-align:right;">
0.5537176
</td>
<td style="text-align:right;">
0.4145525
</td>
</tr>
<tr>
<td style="text-align:right;">
0.0466669
</td>
<td style="text-align:right;">
0.2157326
</td>
<td style="text-align:right;">
0.7376005
</td>
</tr>
<tr>
<td style="text-align:right;">
0.0172653
</td>
<td style="text-align:right;">
0.5878100
</td>
<td style="text-align:right;">
0.3949247
</td>
</tr>
<tr>
<td style="text-align:right;">
0.0790766
</td>
<td style="text-align:right;">
0.1920709
</td>
<td style="text-align:right;">
0.7288525
</td>
</tr>
<tr>
<td style="text-align:right;">
0.0294856
</td>
<td style="text-align:right;">
0.2349694
</td>
<td style="text-align:right;">
0.7355450
</td>
</tr>
<tr>
<td style="text-align:right;">
0.0095218
</td>
<td style="text-align:right;">
0.6169869
</td>
<td style="text-align:right;">
0.3734913
</td>
</tr>
<tr>
<td style="text-align:right;">
0.0621464
</td>
<td style="text-align:right;">
0.2031545
</td>
<td style="text-align:right;">
0.7346991
</td>
</tr>
<tr>
<td style="text-align:right;">
0.0687482
</td>
<td style="text-align:right;">
0.1985744
</td>
<td style="text-align:right;">
0.7326773
</td>
</tr>
<tr>
<td style="text-align:right;">
0.0839204
</td>
<td style="text-align:right;">
0.1892482
</td>
<td style="text-align:right;">
0.7268314
</td>
</tr>
<tr>
<td style="text-align:right;">
0.0730133
</td>
<td style="text-align:right;">
0.1958009
</td>
<td style="text-align:right;">
0.7311858
</td>
</tr>
</tbody>
</table>
<p>Las predicciones del modelo se realizan de la siguiente manera:</p>
<div class="sourceCode" id="cb481"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb481-1"><a href="modelo-multinomial.html#cb481-1" aria-hidden="true" tabindex="-1"></a>diseno_15<span class="sc">$</span>variables  <span class="sc">%&lt;&gt;%</span> </span>
<span id="cb481-2"><a href="modelo-multinomial.html#cb481-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">predicion =</span> <span class="fu">predict</span>(model_mul2))</span>
<span id="cb481-3"><a href="modelo-multinomial.html#cb481-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb481-4"><a href="modelo-multinomial.html#cb481-4" aria-hidden="true" tabindex="-1"></a>diseno_15 <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(Employment) <span class="sc">%&gt;%</span> </span>
<span id="cb481-5"><a href="modelo-multinomial.html#cb481-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Prop =</span> <span class="fu">survey_mean</span>(<span class="at">vartype =</span> <span class="fu">c</span>(<span class="st">&quot;se&quot;</span>, <span class="st">&quot;ci&quot;</span>)))</span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
Employment
</th>
<th style="text-align:right;">
Prop
</th>
<th style="text-align:right;">
Prop_se
</th>
<th style="text-align:right;">
Prop_low
</th>
<th style="text-align:right;">
Prop_upp
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Unemployed
</td>
<td style="text-align:right;">
0.0448040
</td>
<td style="text-align:right;">
0.0077955
</td>
<td style="text-align:right;">
0.0293683
</td>
<td style="text-align:right;">
0.0602398
</td>
</tr>
<tr>
<td style="text-align:left;">
Inactive
</td>
<td style="text-align:right;">
0.3798195
</td>
<td style="text-align:right;">
0.0150308
</td>
<td style="text-align:right;">
0.3500571
</td>
<td style="text-align:right;">
0.4095820
</td>
</tr>
<tr>
<td style="text-align:left;">
Employed
</td>
<td style="text-align:right;">
0.5753764
</td>
<td style="text-align:right;">
0.0130688
</td>
<td style="text-align:right;">
0.5494988
</td>
<td style="text-align:right;">
0.6012540
</td>
</tr>
</tbody>
</table>
<p>De la anterior tabla se puede observar que, el porcentaje de personas en los hogares que están desempleados es del 4.48%, inactivos del 37.9% y empleados del 57%.</p>

</div>
<!-- </div> -->
<div class="footnotes">
<hr />
<ol start="4">
<li id="fn4"><p><a href="https://tech.popdata.org/pma-data-hub/posts/2021-08-15-covid-analysis/" class="uri">https://tech.popdata.org/pma-data-hub/posts/2021-08-15-covid-analysis/</a><a href="modelo-multinomial.html#fnref4" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="método-de-máxima-pseudo-verosimilitud.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="imputación-múltiple-en-encuestas-de-hogares.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/psirusteam/2021ASDA/09-Generalizados2.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["Análisis de encuestas con R.pdf", "Análisis de encuestas con R.epub", "Análisis de encuestas con R.mobi"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
},
"tconfig": null
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
